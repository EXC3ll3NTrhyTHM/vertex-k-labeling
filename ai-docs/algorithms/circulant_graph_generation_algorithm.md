# Design Notes – Circulant Graph Generation via Edge Removal

## Objective
Produce a regular circulant graph *Cₙ,* where each vertex initially has degree *(n − 1)* (complete graph) and we systematically remove edges generated by the closest neighbour sets so the final degree is reduced by 5.

## Algorithm Overview
1. **Input constraint**  
   * *n* must be even and at least 6.
   *  r is ignored – final degree = n − 6.
2. **Build complete circulant** **Kₙ**
   • Vertices `V = {0,…,n−1}`.  
   • For every generator `s ∈ {1,…,n/2}` add edges `(i, i+s mod n)`.
3. **Remove smallest-distance generators**
   • Remove **s = 1** → subtracts 2 from each vertex’s degree (immediate neighbours).  
   • Remove **s = 2** → subtracts another 2 (second neighbours).  
   • Remove **s = n/2** → subtracts 1 (opposite vertex, only exists for even n).  
   • Total degree reduction = 5.
4. **Return adjacency list** with the remaining generators `S_final = {3,4,…,(n/2−1)}`.

## Correctness
* After removal, each vertex keeps generators 3…(n/2−1), giving degree `2·(n/2−3) = n−6`.
* Symmetry is preserved – the graph is still circulant.

## Complexity
*Building Kₙ*: `O(n²)` edge insertions (can be reduced with direct generator loops).  
*Edge removal*: `O(n)` per removed generator ⇒ `O(n)` overall.

---

## Visualisation Challenge with Graphviz
Graphviz engines optimise for aesthetics and often reorder nodes to minimise edge crossings.  For circulant graphs we **need numeric ordering** (0 next to 1 and n−1).

### Issue Encountered
* Using the `circo` engine produced visually pleasing but incorrectly ordered circles – node 0 was not flanked by 1 & n−1.

### Solution Implemented
1. **Switch engine** to **`neato`** which honours fixed positions.
2. **Compute explicit coordinates**: place vertex *i* at angle `θᵢ = 2π·i/n` on a radius-2 circle.
3. **Lock positions** via the DOT attribute `pos="x,y!"` (exclamation mark disables optimisation).
4. **Add invisible ring edges** `(i, i+1)` to hint the desired cycle ordering (optional now but kept for redundancy).

The resulting PNG shows vertices in perfect numerical order without Graphviz rearranging them.

---

*Prepared by AI assistant – 2025-07-09* 